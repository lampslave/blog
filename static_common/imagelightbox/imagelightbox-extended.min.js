/* https://github.com/hovel/imagelightbox/tree/8f18b264f905f7cb1c2cfe495568e1e719df1acf */
(function(b,r,t,u){function l(){b("#imagelightbox-loading").remove()}function n(c){b('<button type="button" id="imagelightbox-close" title="Close"></button>').appendTo("body").on("click touchend",function(){b(this).remove();c.quitImageLightbox();return!1})}function m(){b("#imagelightbox-caption").remove()}function p(c,a){var e=b(a);if(e.length){for(var g=b('<div id="imagelightbox-nav"></div>'),f=0;f<e.length;f++)g.append('<button type="button"></button>');g.appendTo("body");g.on("click touchend", function(){return!1});var h=g.find("button");h.on("click touchend",function(){var a=b(this);e.eq(a.index()).attr("href")!=b("#imagelightbox").attr("src")&&c.switchImageLightbox(a.index());h.removeClass("active");h.eq(a.index()).addClass("active");return!1}).on("touchend",function(){return!1})}}function q(c){if(!c.targetIsSingle()){var a=b('<button type="button" class="imagelightbox-arrow imagelightbox-arrow-left"></button><button type="button" class="imagelightbox-arrow imagelightbox-arrow-right"></button>'); a.hide().appendTo("body");a.on("click touchend pointerup MSPointerUp",function(a){a.preventDefault();b(this).hasClass("imagelightbox-arrow-left")?c.switchImageLightbox("left"):c.switchImageLightbox("right");return!1})}}Array.prototype.indexOf||(Array.prototype.indexOf=function(c){return b.inArray(c,this)});b.fn.imageLightboxExtended=function(c,a){c=c||{};a=a||["overlay","closeButton","arrows","activityIndicator"];var e={quitOnDocClick:-1==a.indexOf("closeButton")&&-1==a.indexOf("caption")&&-1==a.indexOf("download"), onStart:function(){-1!=a.indexOf("overlay")&&b('<div id="imagelightbox-overlay"></div>').appendTo("body");-1!=a.indexOf("closeButton")&&n(f);-1!=a.indexOf("arrows")&&q(f);-1!=a.indexOf("navigation")&&p(f,g);if("undefined"!=typeof c.onStart)c.onStart()},onEnd:function(){-1!=a.indexOf("overlay")&&b("#imagelightbox-overlay").remove();-1!=a.indexOf("caption")&&m();-1!=a.indexOf("closeButton")&&b("#imagelightbox-close").remove();-1!=a.indexOf("arrows")&&b(".imagelightbox-arrow").remove();-1!=a.indexOf("navigation")&& b("#imagelightbox-nav").remove();-1!=a.indexOf("activityIndicator")&&l();if("undefined"!=typeof c.onEnd)c.onEnd()},onLoadStart:function(){-1!=a.indexOf("caption")&&m();-1!=a.indexOf("activityIndicator")&&b('<div id="imagelightbox-loading"><div></div></div>').appendTo("body");if("undefined"!=typeof c.onLoadStart)c.onLoadStart()},onLoadEnd:function(){if(-1!=a.indexOf("caption")){var h=-1!=a.indexOf("download"),d="",e=f.getTarget(),k=e.attr("title")||e.find("img").attr("alt")||"";0<k.length&&(d+="<span>"+ k+"</span>");h&&(h=e.data("original")||e.attr("href"),d+='<a href="'+h+'" download="'+k+'">\u0421\u043a\u0430\u0447\u0430\u0442\u044c</a>');0<d.length&&b('<div id="imagelightbox-caption">'+d+"</div>").appendTo("body")}-1!=a.indexOf("navigation")&&(d=g,k=b("#imagelightbox-nav button"),k.removeClass("active"),k.eq(b(d).filter('[href="'+b("#imagelightbox").attr("src")+'"]').index(d)).addClass("active"));-1!=a.indexOf("activityIndicator")&&l();-1!=a.indexOf("arrows")&&(d=f,b(".imagelightbox-arrow-left").toggle(!d.targetIsFirst()), b(".imagelightbox-arrow-right").toggle(!d.targetIsLast()));if("undefined"!=typeof c.onLoadEnd)c.onLoadEnd()}},g=this.selector,f=b(g).imageLightbox(b.extend({},c,e));return f}})(jQuery,window,document);
